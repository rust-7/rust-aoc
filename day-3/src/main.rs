fn main() {
    part1();
}

fn part1() {
    let number_of_trees = compute_number_trees(raw_input());

    println!("Trees = {} ", number_of_trees)
}

fn compute_number_trees(raw_input: &str) -> u32 {
    let map = input(raw_input);
    let mut column_index = 0;
    let mut number_of_trees = 0;
    
    for line in map {
        match line[column_index % line.len()] {
            Spot::Empty => {},
            Spot::Tree => { number_of_trees += 1 }
        };
        column_index += 3;
    }

    number_of_trees
}

#[test]
fn test_total_trees() {
    let number_of_trees = compute_number_trees("
        ..##.......
        #...#...#..
        .#....#..#.
        ..#.#...#.#
        .#...##..#.
        ..#.##.....
        .#.#.#....#
        .#........#
        #.##...#...
        #...##....#
        .#..#...#.#
    ");

    assert_eq!(7, number_of_trees)

}

enum Spot {
    Empty,
    Tree
}

fn input(raw_input: &str) -> Vec<Vec<Spot>>{
    raw_input
        .trim()
        .lines()
        .map(|line| {
            line.trim().chars().map(|one_char| {
                match one_char {
                    '.' => Spot::Empty,
                    '#' => Spot::Tree,
                    _ => panic!("Unknown !")
                }
            }).collect()
        }).collect()
}

fn raw_input() -> &'static str {
    "
    ......#..........##......#.####
    .##...###....#.....#...#.#.....
    #..##..#.....#............#.#.#
    ##.#....#####..#....#..#.#.....
    ..#.#...##.##.......#.#..#..##.
    ##.#.......#.#.#..#...#.#...#..
    ...#...#..#.##....##..#.#......
    .......##.#.#.#.##...#.........
    ..#...##.##...##..##.##...#....
    .#.#...#.....####..#.#...#.##..
    .#...#......##......##....#....
    ..#.....#.........##.#...#.#...
    ...#.#...#..##...#....#.....##.
    ..#.....#..#..#......###.......
    ...##.#....##..##...........#..
    ....#......#..#....###...#.....
    .....#...#.#.....#..##........#
    ....#...#....##.#.##.#...#..#.#
    .......##.#......##....#....#..
    ...#.#...##..#...#..#..#..##.#.
    ##.#...#..#..................##
    ##........#....##...#..#..#....
    .#.#..............#######.##...
    ##..#..#.#.##..#...............
    ..#........#..#...##.......#...
    ............##.##.#..........##
    .....##..#.....##..#.....#.....
    ..#.##.###.#..##.............#.
    .........##...........#.....#..
    ..#....#.#.###.#.#.......##....
    ..###..##..#.#.##......#.#.##..
    ##......#.#....##.#..#.#..#.#.#
    ..##.#.###.#...#...............
    ..####.......#...#.##....#.....
    ..#....##...#.#.#.#....#.##..##
    .#...####..###....#.###...##...
    ..#.#..........#.#..#..#.....##
    .#....#.........###...#.....##.
    ..#.#.#.##........#.##.#.....#.
    #....#....###...#..#.........#.
    #..#.###....#..............#...
    ............#....##.#......#.#.
    ...#..#.####...............##..
    ....##......#.#.........####..#
    .#....###..#.#..##........##...
    #..##.....###..#...............
    ..#...........#........#...#..#
    ......................#.#..#...
    .#.##.#..#.#....#...#...#.#....
    ..#..#.........#..#.#..........
    .#......#####...#......#..#....
    ..........#.....#..#.##.####.##
    ##.##..#............#####...#.#
    ..##..#..###......#...#...#....
    ....#####........#.##...###....
    ......#...##..#..#............#
    ...#....##.##...#..#...#.......
    ....#####.#...............###..
    .#....#..##....#.#.#..##.##...#
    ...#..#..#........#.#####.....#
    ......##.#...#..#..#.....#..###
    ###.......#.#........#......#.#
    ..#.#..#..#........#..#......#.
    ...##.........#..........#.....
    ...#..###.#.......#.#.........#
    ....#..#.##...##.....#.....##..
    #.#.#.#.....##.##.###..#.#....#
    ..#....#.....##.####..#........
    ...#..#.##.....##.#..#....###..
    .#..#.....#....#...#.#.......##
    ..#..#.......#.#.###......#.##.
    .###.####....##............##.#
    #....###.#......##.#......##.#.
    .##...........#.#....#.........
    #.##..##...#...........###....#
    #.#..#...#.#..#..###.#.##...#..
    ..#...#.#..##....#..#..#.......
    #..##..#.####...#...#..####.##.
    ###..#.##....#...#.###..##...##
    ##..#..#.#....#.....##.......#.
    ..#..##.##.#.......###.#.....#.
    ..........#.####....#.......#..
    #...#.#..#.......##......##..##
    ##...##.##..###...............#
    ....##.#...#.......##...##..#..
    .#.........#...#.#...##.#.....#
    .#...#.#..#...#..##....#..#...#
    .#.#...#..#..###...##....#.....
    .........#.#...####..#...#.#...
    ...#.............#.#..........#
    ...#...#..##.#........#.#......
    ...#...#.....#....#..###.##.###
    .#.#........#....#...#.###.#.#.
    ##.....#.......#..##.#....#..##
    ...###...#.#.#.#....#.#....#...
    #...#.#.......##.#..#....#.#...
    #...#......###.....###........#
    ..#.##...##....#...#....#.#....
    #....#..###....##.#......##...#
    ##.#...#..........#.##....#..#.
    .##....#............###.#...#..
    ###.##.#####.##.....##..#####..
    ..###.###.......#.#...#....#...
    .#...#....####.........#.......
    ..##.#.#......#....#.#....#.#.#
    #.####.....#....#..#.....#.##..
    ###.###.##...##.#.#.#.....#.#..
    .......#.....#.......##.#.....#
    #..#.##...#........#.#.......##
    #.#........#...#....#..........
    ..#....##.#......#..#..........
    #....##.....#.....#.##.#...#...
    ....#.#.....#....####...#.#.##.
    ......#.......##...##.#......#.
    .#.........##...#..#..##..#....
    .#...##.....##.#....#..........
    ....#.###..##..#...#..........#
    ......#...#.#.#........##......
    .#..........#.#.....#..##..#.#.
    .......###.#......#....#.#..#..
    ..##.......#....#....#.#...##.#
    #.##.#.......#..###..##...#.#..
    ......####....#.#.....#...#..#.
    #.##.###..#..#.#.....###..#.#.#
    #.#.#..#.#..##...#...#..##.###.
    ....##..##.#...............#.#.
    ..###.#.#.##..#....##.......#..
    #.#....#..........##......#####
    .#.#.......##.#.#......##..#.#.
    ......#.###.##.#..#....#.##....
    ..###........#.......##.#.#....
    .#..##.............#.##.###...#
    .#####...#......#.......##.....
    ##..###.#...#....#..#....#.#..#
    .#.........###.##.....##.....##
    .##.#....#..#.#..##..#....##...
    .#..#..#......###...#.......#..
    #.#...#.....#..#.#.#..#..###...
    ....#....#..#..#....#..#.#.#...
    ......#.......#.#.#.#.....#....
    ###...#...#......#..#.#.#..#.#.
    #...##.##.##........##....#....
    .....#.......#...#...#.#.#....#
    ...##.....##.#...#.#.#.#..#..#.
    .#.......##...........#...#.##.
    .##..........#......#.#...###..
    .....##...#.....#...#......#...
    ...........#.....#..#...#..#.#.
    #.....##..#...........##....#..
    #.##...###.###....##..#..#....#
    #.#.##...##....###....##.##....
    .#..###.....#......#...#...#..#
    ..#...#....#.#.###.#..#......#.
    ......#.........#..#.##...#...#
    ..#.#....##.#..##..##...#....#.
    #.....#....##.........##.#.....
    ...#...#..###.###......##...###
    .##.###...##..#.##....##.#..#..
    ..#..#.......#................#
    .....#..#.#.#..........##..#...
    ......###.#.#............#..#.#
    ..#.##.....##....#...#...#.#...
    ..#......##...#...##........#..
    #.....#.....#..#......#.###...#
    ....#..#.#.....#...#....#.#...#
    #.......#..#...##..#.#..#.##...
    ..#......###...#.........##...#
    ...#.......##.....#..##........
    .#....#.#.....##.#.#...........
    ##..#..#...#.##.#.#.#.#.#..##.#
    ##...####.#.#.##...#..#......#.
    #.##..####.##.#.........#...###
    #...#.......#.#..####.#.#.#....
    #....#........#........#.......
    ..#..####.....#....##...###.##.
    ...#.#..####.........#....#.##.
    ##.#...#...#..#.#..##.....##...
    ....#.........#.##........##.#.
    ##...#......#....#..#....#....#
    ###.....#......##...#...##...#.
    #.##...............#.......#...
    .##.#...#..#....#.#.....###..#.
    .....##...#.##.....##...#....#.
    #.#..#..........#####..##......
    ..#.........##...#.........#.##
    ...#..##.#.#..#......#..###.###
    #..#...#.#...##..........#.....
    .###..#....###.....#....#..###.
    #..#....#...#........##.....#..
    .#..###........#....#..####..##
    .#..#.#.#.......##.#..##.#..##.
    ..#..###......##....#..#..#..#.
    .......###..##....#......#...##
    #........#.##.............##.#.
    ...#.#.#....##....##.###...#...
    ..#.....#..##..#.#.......#.####
    .#......##.........##...#.....#
    .#.###........##....###.#.#...#
    ##...#.#....#.....##.......#..#
    #...........#...........####...
    #..#.#..##..#...#....#.##....#.
    ................##.............
    ..##...#.#....##....#...#......
    .#.....#....#....#..#..#.#..##.
    .....######.#.#.##.###.#.......
    ..#####....#..#...........#.#..
    .......#..#..##.#...###.#.#.###
    ###...#...#..##.#.##..#...#..#.
    .#..#..............#...........
    .#.....#.....##....#....##..#..
    ....#####.#....#......#.......#
    .#.#.....##.####..#...#.......#
    .#...##.#.......#.....##.#..##.
    ..........#...#....###....#...#
    ..#......#...#...#..#.#........
    .......#.......#..####..##.....
    .#..#.....###...#...#...#...#..
    ##..#.......#.#...#..#..#.##..#
    #..#...#.#.....#.##.#........#.
    ......#......#.#..###.##..###..
    .#..#..#.##.#...........#...##.
    .#....#...#.#..#.#.#...##.#..#.
    ##.#....#..#..#.#...#......#.#.
    ..#.#............##...#........
    ...####...#...#.....##..#...###
    ....###.......###.##..#.###....
    #......#.#....#.#.##.#.##..###.
    .....##.....#..##.....##....#..
    ..#...#..##.#.##.#.#.#.......##
    #....#..##.......#......#..#.##
    #.....##...#..##......##.#.#..#
    ....#..##..#.##...#.#.##..#..##
    #..#...##....##..#...#....#...#
    .##.#.#....#.....#........##.#.
    ..##..#....#........#.....#....
    .##.#..##...#.....#...###.....#
    #..#..#........#..#.....#.#.#.#
    ..##..###.#..#...#.#......#..#.
    #.....#.....#.###......##..#.#.
    .........#...##.........#...#..
    .##.#.##......#.#...###..#....#
    ...##.#..###........##......#..
    ...#.#...#......#.#.#....#..#..
    ..####.........#..#....#.......
    #..#.........##.#.##....#.....#
    ..#..#..#.#........#.###.......
    ##.#..#..#....#...##.......#..#
    ..#.#.....#.............#...##.
    ..........#...##.....#..#.#..#.
    ....#..#...#..##..#...##.#.....
    ##....#......#..#.....#..#.....
    ...#.#.#.#...........##...#.#..
    ....#.###...#............#.....
    .#.#.#.......#.#......#....#.#.
    #.#.#.#..##.#..#..##...##.#..#.
    .#.##....##..#........#....#...
    ####...#....#.#...#..#..###...#
    .....#.#.##.......##..#.######.
    .......#.#.#.....#.#..##....#..
    ..#....#.#..#.#.#..#..#........
    .....##......#.........#.#...##
    #....##.#.....#..........#.#...
    #...#.#..#.#..#.#....#..#.#....
    ....##........#................
    ###.#.#...#..##...#...#.##...#.
    ...#....###..#..##..#..#.......
    .....#..........#.#........##.#
    .#........#.##.#..##..#...#...#
    ..##....#...#.#.........##.#...
    ......#...#......#.....#.......
    ....##.##..#.##...#.#.#.##.#.#.
    ..#...#.....#.#....##.#........
    .#.#.......#.......###..#..#...
    #...#..#..#..##....#...#.....#.
    .#..####.##.....##.........#.#.
    #...###.......#...####..##.....
    #.##.#....#.#.##.......#...#...
    ..#.......#.#.##.##..#...##....
    .#.......#.#..#.....#.....#.#..
    ..#..#.......##.....#.#.....#.#
    #...###..#..#..##...#.....#..##
    ......#................#.......
    ..#.....##..#.......#...#...##.
    ...##...####.#..#...#.......##.
    ..#...#..#...#...#..#..#####...
    #..#...#....#....#...........#.
    ..#.......#..#.##...##..###...#
    .#..#..#......##...#....#......
    ...#..##....#..........#.....#.
    ###...#.#......#.#.....#.....##
    #.#..#.....#........#.##.#.##..
    ....#...#.....#..#.......#.#...
    #.#...##....#..#.....#...#.#.#.
    .#......#...##..#.......#......
    ...#...#.#.#.###.#..#.#..#.....
    ###...#..###.#...#..##...####..
    .#.#.#..#........#..#......#..#
    .#..#....#......#....#.#...#...
    .##..........###...##.....#.#..
    .#...#.#.##.##..###.#...#..###.
    ......#......#......#.##......#
    ..#.##..#.#..#....##..##...#...
    .#......#..#...##....#...#.....
    .#.....#.##..........#..#......
    ###.#..#.##..#..##...#..#...#..
    #.....###........#.#..##.#.....
    .....#.......##.....##.....#.##
    ...##.#......####....##........
    ..#..#..#....#.##.....##.####..
    ...#..#....#.#..#.#..#.#.#..#..
    #..........#....#.#.#.#...#..#.
    ...####.##...#..#.......#.#..##
    #........#..#..................
    .#..#....#.#.#..#..........#...
    ###...#....####....#......#..#.
    #.........####..#..#...........
    .....##..#..##.##.##.#..#.....#
    .#..#.#.##..#..#.#.#.##.###....
    ......##......#...#.##....#..#.
    .#.#....#..#......#..#...###...
    .##...#......##...###...#.#...#
    .......#.#....#............#..#
    .#..##.#.######...#...#......#.
    "
}